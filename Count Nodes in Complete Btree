import java.util.*;
class TreeNode{
    int val;
    TreeNode left;
    TreeNode right;
    TreeNode(int val){
        this.val=val;
       
        this.left=null;
         this.right=null;
    }
}

class HelloWorld {
    public static int  countNodes(TreeNode root){
    if(root==null){
        return 0;
        
    }
    int lh=findLeft(root.left);
    int rh=findRight(root.right);
    if(lh==rh){
        return ((2<<(lh))-1);
    }
    else{
        return countNodes(root.left)+countNodes(root.right)+1;
    }
    
}
public static int findLeft(TreeNode root){
    int count=0;
    while(root!=null){
        count++;
        root=root.left;
    }
    return count;
}
public static int findRight(TreeNode root){
    int count=0;
    while(root!=null){
        count++;
        root=root.right;
    }
    return count;
}
    public static void main(String[] args) {
        TreeNode root=new TreeNode(1);
        root.left=new TreeNode(2);
        root.right=new TreeNode(3);
        root.left.left=new TreeNode(4);
        root.left.right=new TreeNode(5);
        root.left.left.left=new TreeNode(8);
        root.left.left.right=new TreeNode(9);
         root.left.right.left=new TreeNode(10);
         root.left.right.right=new TreeNode(11);
          root.right.left=new TreeNode(6);
           root.right.right=new TreeNode(7);
           int nodes=countNodes(root);
           System.out.print(nodes);
         
        
        
    }
}
